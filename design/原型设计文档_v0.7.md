# AI Project Management Platform - 原型设计文档 v0.7

> **版本说明**：基于v0.7需求规格设计的原型，涵盖MVP核心页面和交互流程  
> **核心原则**：优秀的人的经验以Skill方式用于项目各环节

---

## 一、原型设计概述

### 1.1 设计原则

```
核心原则：优秀的人的经验 → Skill → 用于项目各环节

设计要点：
├─ Skill是参与者的核心资产
├─ 参与者自由选择AI工具（Claude/Cursor/Codex）
├─ 平台只验收成果，不关心过程
├─ Skill可集成到AI工具（MCP Protocol）
└─ 社区可复用优秀Skill
```

### 1.2 产品架构：Web + CLI + AI工具集成

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          产品架构说明                                        │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                         Web平台                                        │   │
│  │  ├─ 发起人：项目发布、验收管理、结算                                │   │
│  │  ├─ 参与者：任务大厅、个人档案、收益管理                            │   │
│  │  └─ 社区：Skill市场、技能评分、经验分享                            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                    │                                        │
│                                    ▼                                        │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                         CLI客户端                                      │   │
│  │  ├─ 任务同步：从平台拉取任务到本地                                │   │
│  │  ├─ 成果提交：提交GitHub PR到平台                                 │   │
│  │  ├─ 验收查看：查看发起人验收结果                                  │   │
│  │  └─ Skill管理：分享/导入Skill                                     │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                    │                                        │
│                                    │                                        │
│              ┌────────────────────┼────────────────────┐                │
│              ▼                    ▼                    ▼                │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐        │
│  │   Claude         │  │   Cursor        │  │   Codex/OpenCode│        │
│  │   (MCP集成)     │  │   (MCP集成)    │  │   (MCP集成)    │        │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 1.3 CLI客户端功能

```
CLI客户端功能：
├─ 任务管理
│  ├─ aipm task list              # 列出可认领任务
│  ├─ aipm task claim <id>       # 认领任务
│  ├─ aipm task pull             # 同步任务到本地
│  └─ aipm task submit           # 提交成果
│
├─ Skill管理
│  ├─ aipm skill list            # 列出我的Skill
│  ├─ aipm skill create          # 创建Skill
│  ├─ aipm skill export <id>     # 导出为MCP格式
│  └─ aipm skill import <file>   # 导入Skill
│
├─ 项目管理
│  ├─ aipm project list          # 列出我的项目
│  └─ aipm project info <id>     # 项目详情
│
└─ 验收查询
   ├─ aipm review status         # 查看验收状态
   └─ aipm review result         # 查看验收结果
```

---

## 二、核心页面原型

### 2.1 首页

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ AI Project Management Platform                                      [登录/注册] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  🚀 优秀的人的经验，以Skill方式用于项目各环节                     │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─ 核心功能 ──────────────────────────────────────────────────────┐      │
│  │                                                                    │   │
│  │  🏢 发布项目         🤝 认领任务         ⚡ 用Skill完成          │   │
│  │     发起你的项目         展示你的技能          经验驱动交付       │   │
│  │                                                                    │   │
│  │  💰 质量可控          🎯 成果验收           ⚡ Skill驱动          │
│  │     发起人验收把关        验收即结算           经验复用高效        │
│  │                                                                    │   │
│  └─────────────────────────────────────────────────────────────────────┘      │
│                                                                             │
│  ┌─ 数据概览 ──────────────────────────────────────────────────────┐      │
│  │                                                                    │   │
│  │  🏗️ 在运行项目：12          👥 参与者：156          💵 总成交：¥89,500 │   │
│  │                                                                    │   │
│  └─────────────────────────────────────────────────────────────────────┘      │
│                                                                             │
│  ┌─ 最新项目 ──────────────────────────────────────────────────────┐      │
│  │                                                                    │   │
│  │  📌 AI代码审查工具 - 发起的张三 - 3个环节进行中                │   │
│  │  📌 智能客服系统 - 发起人李四 - 2个环节已完成                   │   │
│  │  📌 数据分析平台 - 发起人王五 - 1个环节待开始                  │   │
│  │                                                                    │   │
│  └─────────────────────────────────────────────────────────────────────┘      │
│                                                                             │
│  [我是发起人]  [我是参与者]                                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 发起人-项目列表

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 我的项目                                                      [发起新项目] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  [全部] [进行中] [已完成] [草稿]                                          │
│                                                                             │
│  ┌─ 项目卡片 ──────────────────────────────────────────────────────┐      │
│  │                                                                    │   │
│  │  📌 AI代码审查工具                                        🏷️ 社区     │   │
│  │     ─────────────────────────────────────────                      │   │
│  │     预算：¥10,000                    进度：2/3 完成               │   │
│  │     环节1：✅ 李四 (验收通过)                                 │   │
│  │     环节2：🔄 王五 (进行中 60%)                               │   │
│  │     环节3：⏳ 待开始                                           │   │
│  │                                                                    │   │
│  │     [查看详情]  [管理]                                         │   │
│  │                                                                    │   │
│  └─────────────────────────────────────────────────────────────────────┘      │
│                                                                             │
│  [首页] [任务大厅] [个人档案]                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.3 发起人-发起项目

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 发起新项目                                                          [保存草稿] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─ 基本信息 ──────────────────────────────────────────────────────┐      │
│  │                                                                    │   │
│  │  项目名称：                                            [输入...]   │   │
│  │                                                                    │   │
│  │  项目描述：                                            [输入...]   │   │
│  │  ┌─────────────────────────────────────────────────────────────┐  │   │
│  │  │ 请详细描述项目背景、目标、期望成果...                      │  │   │
│  │  └─────────────────────────────────────────────────────────────┘  │   │
│  │                                                                    │   │
│  │  项目模式：[●社区模式 ○企业模式]                               │   │
│  │                                                                    │   │
│  │  总预算：                                              [¥ 10,000] │   │
│  │                                                                    │   │
│  └─────────────────────────────────────────────────────────────────────┘      │
│                                                                             │
│  ┌─ 环节拆解 ──────────────────────────────────────────────────────┐      │
│  │                                                                    │   │
│  │  ┌───────────────────────────────────────────────────────────┐  │   │
│  │  │ 环节1：后端API开发                                [删除] │  │   │
│  │  │                                                          │  │   │
│  │  │  描述：                                    [输入...]     │  │   │
│  │  │  预算：¥3,000                            [¥ ______]     │  │   │
│  │  │  专长要求：Python, FastAPI                  [添加标签]  │  │   │
│  │  │  质量要求：                                              │  │   │
│  │  │     [✓] 需要单元测试    [✓] 需要代码审查    [ ] ...   │  │   │
│  │  │                                                          │  │   │
│  │  └───────────────────────────────────────────────────────────┘  │   │
│  │                                                                    │   │
│  │  [+ 添加环节]                                                  │   │
│  │                                                                    │   │
│  └─────────────────────────────────────────────────────────────────────┘      │
│                                                                             │
│  [预览]  [保存草稿]  [发布项目]                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.4 发起人-验收管理

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 验收管理                                                      [返回项目] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─ 待验收列表 ─────────────────────────────────────────────────────┐      │
│  │                                                                    │   │
│  │  📬 王五 提交了 环节1：用户认证API开发                          │   │
│  │  ─────────────────────────────────────────                        │   │
│  │  提交时间：10分钟前         预算：¥3,000                        │   │
│  │                                                                    │   │
│  │  使用Skill：Python RESTful API 开发专家（李四）                 │   │
│  │                                                                    │   │
│  │  交付件：                                                          │   │
│  │  ├─ GitHub PR：https://github.com/.../pull/1                   │   │
│  │  └─ 测试报告：覆盖率88%                                          │   │
│  │                                                                    │   │
│  │  质量评分：4.6/5.0                                               │   │
│  │  ├─ 功能完整性：5/5                                             │   │
│  │  ├─ 代码质量：4.5/5                                             │   │
│  │  ├─ 测试覆盖：5/5                                               │   │
│  │  └─ 文档质量：4/5                                               │   │
│  │                                                                    │   │
│  │  [查看成果]  [查看Skill]  [通过验收]  [拒绝]  [要求修改]      │   │
│  │                                                                    │   │
│  └─────────────────────────────────────────────────────────────────────┘      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.5 参与者-任务大厅

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 任务大厅                                                      [个人档案] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  [全部] [我的任务] [推荐任务]                                          │
│                                                                             │
│  ┌─ 任务卡片 ──────────────────────────────────────────────────────┐      │
│  │                                                                    │   │
│  │  📌 环节3：测试用例编写                         🏷️ AI代码审查工具 │   │
│  │     ─────────────────────────────────────────                      │   │
│  │     预算：¥3,000                    预计分成：¥1,000-¥1,500     │   │
│  │     专长要求：Python, 测试            Skill等级：L2+           │   │
│  │     Skill等级：L2+           截止时间：2026-02-25      │   │
│  │                                                                    │   │
│  │  任务描述：编写单元测试，覆盖率要求85%以上...                  │   │
│  │                                                                    │   │
│  │  [查看详情]  [立即认领]                                          │   │
│  │                                                                    │   │
│  └─────────────────────────────────────────────────────────────────────┘      │
│                                                                             │
│  [首页] [任务大厅] [个人档案]                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.6 参与者-个人档案

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 个人档案                                                      [编辑资料] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─ 基本信息 ──────────────────────────────────────────────────────┐      │
│  │                                                                    │   │
│  │  👤 李四                                    🟢 在线              │   │
│  │                                                                    │   │
│  │  专长标签：                                                        │   │
│  │  [Python] [FastAPI] [React] [SQLAlchemy] [添加标签]              │   │
│  │                                                                    │   │
│  │  我的Skill：                                                       │   │
│  │  ├─ Python RESTful API 开发专家 🏆 (使用次数: 156)               │   │
│  │  ├─ FastAPI 微服务架构设计 (使用次数: 89)                        │   │
│  │  └─ [创建新Skill]                                                 │   │
│  │                                                                    │   │
│  │  Skill等级：L3                                                    │   │
│  │  系统评分：4.7/5.0                                                │   │
│  │                                                                    │   │
│  └─────────────────────────────────────────────────────────────────────┘      │
│                                                                             │
│  ┌─ 统计数据 ──────────────────────────────────────────────────────┐      │
│  │                                                                    │   │
│  │  📈 参与项目：8个                                                 │   │
│  │  ✅ 完成任务：15个                                                │   │
│  │  💰 累计收益：¥8,500                                             │   │
│  │  ⭐ 信誉分：4.7                                                  │   │
│  │                                                                    │   │
│  └─────────────────────────────────────────────────────────────────────┘      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 三、CLI客户端原型

### 3.1 CLI交互示例

```
$ aipm task list

可认领任务：
┌─────────────────────────────────────────────────────────────────────────────┐
│ ID     │ 项目              │ 环节           │ 预算   │ 专长要求      │ 状态 │
├────────┼──────────────────┼────────────────┼────────┼───────────────┼──────┤
│ task_1 │ AI代码审查工具   │ 后端API开发   │ ¥3,000 │ Python, FastAPI │ 可认领 │
│ task_2 │ 智能客服系统     │ 前端界面开发  │ ¥4,000 │ React, TypeScript │ 可认领 │
└─────────────────────────────────────────────────────────────────────────────┘

$ aipm task pull task_1

任务详情：
项目：AI代码审查工具
环节：后端API开发
预算：¥3,000
专长要求：Python, FastAPI

任务描述：开发用户认证RESTful API，包含注册、登录、密码重置...

[确认认领]  [取消]
```

### 3.2 Skill导出示例

```
$ aipm skill export python-api-expert

已导出 Skill: python-api-expert.json
路径：/Users/li4/.aipm/skills/python-api-expert.json

在Claude Desktop中使用：
1. 复制JSON内容到Claude的MCP配置目录
2. Skill将自动加载到上下文
```

---

## 四、状态标识系统

```
状态标识：
├─ 项目状态
│  ├─ 🟢 进行中
│  ├─ 🔴 已完成
│  ├─ 🟡 待开始
│  └─ ⚪ 草稿
│
├─ 任务状态
│  ├─ 🔄 进行中
│  ├─ ✅ 已完成
│  ├─ ⏳ 待开始
│  └─ ⚠️ 待审核
│
├─ 参与者状态
│  ├─ 🟢 在线
│  ├─ 🟡 忙碌
│  └─ 🔴 离线
│
└─ 验收结果
    ├─ ✅ 通过
    ├─ ❌ 拒绝
    └─ ⚠️ 需修改
```

---

## 五、技术实现建议

### 5.1 前端技术选型

```
前端技术栈（Vue 3 + TypeScript）：
├─ 框架：Vue 3 + TypeScript
├─ UI组件库：Naive UI
├─ 状态管理：Pinia
├─ 路由：Vue Router 6
└─ HTTP请求：Axios

理由：
├─ Vue 3学习成本低，文档友好
├─ Naive UI对TypeScript支持好
├─ Pinia是Vue官方推荐
└─ 一人+AI开发效率优先
```

### 5.2 CLI技术选型

```
CLI技术栈：
├─ 语言：TypeScript (与前后端统一)
├─ 框架：Commander.js + Inquirer.js
├─ 打包：pkg/ncc (单一可执行文件)
├─ 存储：~/.aipm/ (本地配置)
└─ 认证：JWT Token

安装方式：
├─ npm install -g aipm-cli
└─ brew install aipm
```

### 5.3 MCP集成设计

```
MCP (Model Context Protocol) 结构：

{
  "name": "skill-name",
  "description": "Skill功能描述",
  "prompts": [
    {
      "name": "main",
      "template": "You are an expert in...\n\n{{task_description}}"
    }
  ],
  "workflow": [
    {"step": 1, "description": "分析需求"},
    {"step": 2, "description": "设计架构"},
    {"step": 3, "description": "编写代码"},
    {"step": 4, "description": "编写测试"}
  ],
  "qualityStandard": {
    "codingStyle": "PEP8",
    "testCoverage": "> 80%",
    "documentation": "Required"
  }
}
```

---

## 六、开发计划

### 6.1 MVP阶段划分

| 阶段 | 功能 | 时间 |
|------|------|------|
| Phase 1 | 环境搭建 + 用户系统 | 1周 |
| Phase 2 | 项目发布 + 任务大厅 | 1周 |
| Phase 3 | 任务认领 + 成果提交 | 1周 |
| Phase 4 | 发起人验收 + 结算 | 1周 |
| Phase 5 | CLI客户端 + MCP集成 | 1周 |

### 6.2 功能优先级

```
MVP功能优先级：

P0（必须）：
├─ 用户注册/登录
├─ 项目发布
├─ 任务大厅
├─ 任务认领
├─ 成果提交
├─ 发起人验收
├─ 结算功能
├─ CLI任务同步
└─ CLI成果提交

P1（应该）：
├─ Skill创建
├─ Skill导出(MCP)
├─ Skill导入
└─ Skill市场

P2（可以有）：
├─ Skill评分
├─ MCP Claude集成
└─ Skill模板市场
```

---

**文档版本**: v0.7
**更新日期**: 2026-02-18
**核心原则**：优秀的人的经验以Skill方式用于项目各环节
