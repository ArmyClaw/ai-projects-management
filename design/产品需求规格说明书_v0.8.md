# AI Project Management Platform - 需求规格说明书 v0.8

> **版本说明**：基于v0.7逻辑闭环验证，新增5个关键机制完善系统  
> **核心原则**：优秀的人的经验以Skill方式用于项目各环节

---

## 一、核心定位

### 1.1 产品愿景

> "优秀的人的经验，以Skill方式，用于项目各环节——这是未来人机协作完成项目的方式"

### 1.2 核心逻辑流（闭环）

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                       核心逻辑流（闭环）                                │
│                                                                             │
│  发起人发布项目                                                          │
│      │                                                                    │
│      ├── 选择验收标准Skill                                               │
│      ├── 拆解任务                                                        │
│      └── 设置预算                                                        │
│      │                                                                    │
│      ▼                                                                    │
│  参与者认领任务                                                          │
│      │                                                                    │
│      ├── 查看任务详情                                                    │
│      ├── 查看发起人的历史信用 ⭐                                         │
│      └── 确认认领                                                        │
│      │                                                                    │
│      ▼                                                                    │
│  参与者完成任务                                                          │
│      │                                                                    │
│      ├── 用自己的工具 + Skill                                            │
│      ├── 提交GitHub PR                                                   │
│      └── 平台记录信用历史 ⭐                                             │
│      │                                                                    │
│      ▼                                                                    │
│  发起人验收                                                              │
│      │                                                                    │
│      ├── 使用验收标准Skill验收 ⭐                                        │
│      ├── 评分                                                            │
│      └── 通过/拒绝                                                        │
│      │                                                                    │
│      ▼                                                                    │
│  平台结算                                                                │
│      │                                                                    │
│      ├── 验收通过 → 立即到账                                              │
│      └── 记录信用变更 ⭐                                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 1.3 核心原则

```
产品核心原则：
├─ 1. Skill是参与者的核心资产              → 经验封装，可复用
├─ 2. 参与者自由选择AI工具               → Claude/Cursor/Codex
├─ 3. 平台只验收成果，不关心过程         → 不看Token消耗
├─ 4. 发起人只看验收标准是否达标         → 不管用什么模型
├─ 5. Skill可集成到AI工具                → MCP Protocol
├─ 6. 社区可复用优秀Skill               → 经验沉淀和分享
├─ 7. 平台只防破坏，不判断好坏           → 没有权威，只有历史
└─ 8. 初始信用解决冷启动                 → 开源Skill防作弊
```

### 1.4 两种使用方式

| 维度 | 社区模式 | 企业模式 |
|------|---------|---------|
| **发起** | 任何人可发起 | 内部成员可发起 |
| **参与** | 开放参与 | 内部成员参与 |
| **可见性** | 公开项目 | 私有项目 |
| **收益** | 现金分成 | 积分统计 |
| **抽成** | 平台5% | 平台3% |

---

## 二、社区共治（v0.7核心）

### 2.1 核心理念：没有权威，只有历史

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                   社区共治的核心逻辑                                    │
│                                                                             │
│  平台不做价值判断，只维护系统                                               │
│                                                                             │
│      经验提供者的信用                                                      │
│          │                                                                │
│          ▼                                                                │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  信用来源 = 历史记录总和                                            │   │
│  │       ├─ 被多少人采用                                              │   │
│  │       ├─ 帮多少人成了事                                            │   │
│  │       └─ 记录都在数据库里，谁都看得见，谁也改不了                 │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 平台角色转变

| 之前 | 现在 |
|------|------|
| 平台提供Skill市场（官方审核） | 平台只维护系统（记录所有行为） |
| 平台判定验收标准好坏 | 平台展示历史记录（让市场选择） |
| 平台计算参与者评分 | 平台记录历史数据（信用由历史写就） |
| 平台有最终判定权 | 平台只执行规则（社区举证） |

### 2.3 社区共治边界

```
社区共治 = 防止系统被破坏，不判断内容好坏

平台治理：
├─ 虚假交易？→ 社区举证 → 平台冻结
├─ 抄袭洗稿？→ 社区举证 → 平台封禁
├─ 恶意差评？→ 社区举证 → 平台惩罚
└─ 刷好评？→ 社区举证 → 平台封禁

平台不做：
├─ 不判定"这个Skill好不好"（让历史说话）
├─ 不审核"这个验收标准对不对"（让用户选择）
├─ 不决定"这个参与者评分多少"（让数据说话）
└─ 不做价值判断，只维护规则
```

### 2.4 信用体系设计

```
信用来源 = 历史记录总和

┌─────────────────────────────────────────────────────────────────────────────┐
│                         信用体系设计                                    │
│                                                                             │
│  1. Skill信用                                                              │
│     ├─ 被多少项目采用（采用数）                                         │   │
│     ├─ 验收通过率（成功率）                                             │   │
│     ├─ 发起人好评率                                                     │   │
│     └─ 信用 = 历史记录总和（链上可查）                                  │   │
│                                                                             │
│  2. 参与者信用                                                            │
│     ├─ 参与过多少项目（项目数）                                         │   │
│     ├─ 成功交付率（完成任务数/承接任务数）                              │   │
│     ├─ 发起人好评率                                                     │   │
│     └─ 信用 = 历史记录总和                                              │   │
│                                                                             │
│  3. 发起人信用                                                            │
│     ├─ 发布过多少项目（项目数）                                         │   │
│     ├─ 项目完成率（完成项目数/发布项目数）                             │   │
│     ├─ 参与者好评率                                                     │   │
│     └─ 信用 = 历史记录总和                                              │   │
│                                                                             │
│  4. 验收标准信用                                                          │
│     ├─ 被多少项目使用（使用数）                                         │   │
│     ├─ 验收通过率（使用该标准的项目通过率）                             │   │
│     └─ 信用 = 历史记录总和                                              │   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.5 社区治理机制

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                       社区治理机制                                      │
│                                                                             │
│  1. 举证机制                                                              │
│     ├─ 任何人可以举证（提交证据）                                        │   │
│     ├─ 社区成员可以附议（支持/反对）                                    │   │
│     ├─ 达到阈值则平台执行                                                │   │
│     └─ 举证需押注积分（防止恶意举证）                                    │   │
│                                                                             │
│  2. 惩罚机制                                                              │
│     ├─ 虚假交易：冻结账户                                               │   │
│     ├─ 抄袭洗稿：封禁+公开记录                                          │   │
│     ├─ 恶意差评：扣除信用分                                             │   │
│     └─ 刷好评：封禁+公开记录                                            │   │
│                                                                             │
│  3. 申诉机制                                                              │
│     ├─ 被惩罚者可申诉                                                   │   │
│     ├─ 提交证据反驳                                                     │   │
│     └─ 社区投票决定                                                     │   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.6 初始信用与评价Skill（解决冷启动）

```
问题：新用户没有历史记录，怎么评估？

解决方案：
├─ 初始信用 = 平台提供的客观基础评价（开源Skill）
│  ├─ 技能测试结果
│  ├─ 作品集评估
│  └─ 同行评议（如果有）
│
└─ 长期信用 = 历史记录总和（由用户选择写就）
    ├─ 被多少人采用
    ├─ 帮多少人成了事
    └─ 这些记录都在数据库里

关键：初始信用评价体系本身也是开源的，可被社区修改/替代
```

#### 2.6.1 初始信用Skill设计

```
@ai-pm/initial-credit（平台官方）：

评价维度：
├─ 技能测试（40%）
│  ├─ 在线编程测试
│  ├─ 算法题目
│  └─ 代码质量评估
│
├─ 作品集评估（40%）
│  ├─ 提交GitHub链接
│  ├─ AI自动分析代码质量
│  └─ 人工复核（可选）
│
└─ 同行评议（20%）
    ├─ 其他用户的公开评价
    └─ 需达到一定信用门槛才能评价

初始分 = 技能测试×0.4 + 作品集×0.4 + 同行评议×0.2
```

#### 2.6.2 防作弊设计

```
初始信用防作弊机制：
├─ 技能测试
│  ├─ 防作弊：限时+随机题库+录像
│  └─ 多次取最高（避免发挥失常）
│
├─ 作品集评估
│  ├─ 防作弊：AI检测代码相似度
│  ├─ 防作弊：Git提交历史验证
│  └─ 人工抽查
│
└─ 同行评议
    ├─ 防作弊：评议人需信用>=100
    ├─ 防作弊：同一评议人最多评议3次/天
    └─ 防作弊：匿名评议
```

#### 2.6.3 初始信用与长期信用的关系

```
信用构成：
├─ 初始信用（冷启动用）
│  ├─ 来源：技能测试、作品集、同行评议
│  ├─ 权重：随时间递减
│  └─ 有效期：3-6个月
│
└─ 长期信用（历史记录）
    ├─ 来源：项目完成、好评、惩罚
    ├─ 权重：随时间递增
    └─ 有效期：无（永久有效）

最终信用 = 初始信用×衰减系数 + 长期信用
```

---

## 三、Skill设计（v0.7核心）

### 3.1 Skill定义

```
Skill是什么：
├─ 是参与者的经验封装
├─ 包含：Prompt模板、工作流程、质量标准
├─ 可：复用、分享、集成到AI工具
└─ 用于：项目各环节

Skill不是什么：
├─ 不是平台提供的服务
├─ 不是调用API的封装
└─ 不是限制参与者工具
```

### 3.2 Skill核心组成

```typescript
interface Skill {
  // 基础信息
  id: string
  name: string              // Skill名称
  description: string       // 功能描述
  author: User             // 作者
  tags: string[]          // 标签：Python/React/API等
  
  // 核心组件
  promptTemplates: PromptTemplate[]  // Prompt模板集合
  workflow: Workflow                  // 工作流程定义
  qualityStandard: QualityStandard  // 质量标准
  
  // 元数据
  visibility: 'private' | 'community' | 'public'
  license: string        // 开源许可证
  
  // 统计
  stats: {
    usageCount: number      // 使用次数
    successRate: number     // 验收通过率
    avgQualityScore: number // 平均质量分
  }
}
```

### 3.3 Skill使用方式

```
参与者使用Skill的两种方式：

方式1：创建自己的Skill
├─ 参与者创建Skill
├─ 积累经验形成模板
└─ 用于自己的项目

方式2：复用社区Skill
├─ 查看社区Skill
├─ 导入到本地
└─ 用于自己的任务

方式3：集成到AI工具
├─ 导出为MCP格式
├─ 加载到Claude/Cursor
└─ 在AI工具中使用
```

### 3.4 Skill等级

```
Skill等级定义：
├─ L1: 能用AI
│     └─ 基础Prompt调用，结果一般
│
├─ L2: 会调优
│     └─ 会调整Prompt参数，结果较好
│
├─ L3: 有模板
│     └─ 有自己的Prompt模板库
│
└─ L4: 有Workflow
    └─ 有完整任务拆解+验证+迭代流程
```

### 3.5 验收标准Skill

```
验收标准改造：
├─ 平台评价体系完全开源
├─ 所有评价标准都是Skill
└─ 发起人可选择或自定义
```

---

## 四、参与者管理

### 4.1 参与者角色

**参与者定义**：使用Skill完成项目任务的协作者

**参与者职责**：
| 职责 | 说明 |
|------|------|
| **创建Skill** | 把经验封装为Skill |
| **完成任务** | 用自己的工具+Skill完成交付 |
| **分享Skill** | 分享到社区供他人复用 |
| **获取收益** | 验收通过后获得分成 |

### 4.2 个人档案

```
档案展示:
├─ 专长标签
├─ Skill等级 (L1-L4)
├─ 我的Skill列表
├─ 初始信用
├─ 长期信用
└─ 历史项目
```

### 4.3 系统评分

```
评分维度:
├─ 完成率 = 完成任务数 / 承接任务数
├─ 质量分 = 平均验收评分 (5分制)
├─ 响应分 = 平均响应时间评分
└─ 协作分 = 同行/发起人评价

系统评分 = 完成率(40%) + 质量分(40%) + 响应分(10%) + 协作分(10%)
```

---

## 五、项目发布与管理

### 5.1 发布项目

```yaml
项目:
  title: 项目名称
  description: 项目描述
  mode: [社区/企业]
  total_budget: 10000
  platform_fee: 0.05  # 平台抽成5%

  # 环节拆解
  milestones:
    - name: 环节1名称
      description: 环节描述
      budget: 3000
      skills: [Python, React]  # 需要的专长
      review_standard: @ai-pm/basic-review  # 验收标准Skill
```

### 5.2 平台抽成机制

```
平台抽成规则：
├─ 社区模式：5%
│  ├─ 发起人支付 ¥100
│  └─ 参与者获得 ¥95
│
└─ 企业模式：3%
    ├─ 发起人支付 ¥100
    └─ 参与者获得 ¥97

抽成用途：
├─ 平台运营成本
├─ 社区治理基金
├─ Skill审核
└─ 法律合规
```

### 5.3 任务认领

```
任务认领流程：
    发起人发布任务
          │
          ▼
    参与者查看任务大厅
          │
          ▼
    参与者查看任务详情
          │
          ├── 评估验收标准
          ├── 查看发起人历史信用 ⭐
          ├── 估算API成本
          └── 决定是否认领
          │
          ▼
    确认认领 → 开始交付
```

### 5.4 参与者API成本承担机制

```
成本承担原则：
├─ 参与者自付API成本
│  ├─ 参与者用自己的API密钥
│  ├─ 参与者选择AI工具（Claude/DeepSeek等）
│  └─ 成本从分成中扣除？不，成本单独承担
│
└─ 成本透明
    ├─ 参与者在认领前估算成本
    ├─ 平台不记录具体Token消耗
    └─ 参与者自己控制成本

成本控制策略：
├─ 参与者选择性价比工具（Claude vs DeepSeek）
├─ 使用优秀Skill提高效率
└─ 参与者承担成本，但分成比例已考虑成本
```

### 5.5 交付流程

```
参与者交付流程：
┌─────────────────────────────────────────────────────────────────────────────┐
│                      参与者交付流程                                     │
│                                                                             │
│  1. 从平台/CLI拉取任务                                               │
│      │                                                                     │
│      ▼                                                                     │
│  2. 在AI工具中加载Skill（自己的/社区的）                            │
│      │                                                                     │
│      ▼                                                                     │
│  3. 用Skill完成交付                                                   │
│      │                                                                     │
│      ▼                                                                     │
│  4. 提交GitHub PR                                                     │
│      │                                                                     │
│      ▼                                                                     │
│  5. 平台标记任务已提交                                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 六、发起人权限设计

### 6.1 权限概述

**核心原则**：付费者拥有知情权和验收权

```
发起人权限：
├─ 执行中可见：
│  ├─ 参与者使用的Skill（名称和作者）
│  └─ 任务进度
│
├─ 完成后可见：
│  ├─ GitHub PR/仓库链接
│  ├─ 交付物清单
│  └─ 质量验收评分
│
└─ 验收权限：
   ├─ 通过 → 确认付款
   ├─ 拒绝 → 需修改/重新做
   └─ 争议 → 平台仲裁
```

### 6.2 验收权限

**发起人验收标准**：
| 检查项 | 权重 | 说明 |
|--------|------|------|
| 功能完整性 | 40% | 需求功能是否完整实现 |
| 代码质量 | 30% | 可读性、规范性、错误处理 |
| 测试覆盖 | 20% | 单元测试覆盖率 |
| 文档质量 | 10% | 文档完整性 |

**验收操作**：
| 操作 | 条件 | 结果 |
|------|------|------|
| 通过 | 评分≥4.0 | 支付分成 |
| 拒绝 | 评分<4.0 | 需修改后重交 |
| 争议 | 双方分歧 | 平台仲裁 |

---

## 七、分成与结算机制（v0.8新增）

### 7.1 分成模式：阶段付费

**核心原则**：验收后立即到账，按贡献比例分配

```
分成流程：
┌─────────────────────────────────────────────────────────────────────────────┐
│                           阶段付费流程                                │
│                                                                             │
│  项目总预算                                                           │
│      │                                                                     │
│      ├── 平台抽成5%                                                     │
│      └── 参与者可获得95%                                                │
│                                                                             │
│      ▼                                                                     │
│  拆分为N个环节                                                       │
│      │                                                                     │
│      ▼                                                                     │
│  参与者认领环节                                                      │
│      │                                                                     │
│      ▼                                                                     │
│  参与者完成交付 → 提交GitHub PR                                      │
│      │                                                                     │
│      ▼                                                                     │
│  发起人验收 ⭐                                                      │
│      │                                                                     │
│      ├── 验收通过 → 立即结算（验收后秒到账）                          │
│      │                                                                     │
│      └── 验收拒绝 → 需修改后重交                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 7.2 分成计算

**分成公式**：
```
参与者分成 = 环节预算 × (1 - 平台抽成)

示例：
├─ 环节预算：¥3,000
├─ 平台抽成：5%
└─ 参与者获得：¥3,000 × 0.95 = ¥2,850
```

### 7.3 结算规则

**结算时间**：
| 场景 | 结算时间 |
|------|----------|
| 验收通过 | 立即到账（秒级） |
| 验收拒绝 | 修改后重新提交 |

**结算方式**：
| 模式 | 结算方式 |
|------|----------|
| 社区模式 | 现金（支付宝/微信） |
| 企业模式 | 积分 |

### 7.4 争议仲裁流程

```
争议触发：发起人和参与者对验收结果有分歧
    │
    ▼
Step 1：双方协商
    │
    ▼
Step 2：协商不成 → 发起仲裁
    │
    ├── 参与者提交证据（代码、沟通记录）
    ├── 发起人提交证据（验收标准、对比）
    └── 平台介入审核
    │
    ▼
Step 3：平台仲裁结果
    ├── 维持发起人决定
    ├── 推翻发起人决定（参与者胜诉）
    └── 部分退款（各退一步）
    │
    ▼
Step 4：信用记录
    ├── 胜诉方信用 +10
    └── 败诉方信用 -5
```

---

## 八、开发计划

### 8.1 开发周期

| 阶段 | 内容 | 时间 |
|------|------|------|
| **MVP** | 核心功能 | 4周 |
| **v0.8** | 完善机制（抽成/争议/防作弊） | 1周 |
| **v1.0** | 完整功能 | 2周 |

### 8.2 MVP核心功能

| 功能 | 状态 | 说明 |
|------|------|------|
| 项目发布 | ✅ | 支持社区/企业模式 |
| 任务大厅 | ✅ | 任务展示和认领 |
| 发起人验收 | ✅ | 验收标准和结算 |
| Skill管理 | ✅ | 创建、分享、复用 |
| CLI客户端 | ⏳ | 任务同步、成果提交 |
| 信用体系 | ⏳ | 历史记录、初始信用 |
| 社区共治 | ⏳ | 举证、惩罚 |
| 争议仲裁 | ⏳ | 仲裁流程 |

---

## 九、v0.8关键改进点

| # | 改进项 | v0.7状态 | v0.8改进 |
|---|--------|---------|----------|
| 1 | 平台抽成 | 未提及 | 明确5%（社区）/3%（企业） |
| 2 | API成本承担 | 未明确 | 参与者自付，平台不记录 |
| 3 | 防作弊机制 | 粗略 | 详细设计（技能测试/作品集/同行评议） |
| 4 | 争议仲裁 | 未提及 | 新增完整仲裁流程 |
| 5 | 信用公式 | 粗略 | 明确：最终信用=初始×衰减+长期 |

---

**文档版本**: v0.8
**更新日期**: 2026-02-18
**核心原则**：优秀的人的经验以Skill方式用于项目各环节
