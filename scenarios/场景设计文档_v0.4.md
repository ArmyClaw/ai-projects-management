# AI Project Management Platform - 场景设计文档 v0.4

> **版本说明**：项目协作平台场景设计，区分社区/企业双模式

---

## 场景一：社区用户发布项目

### 场景描述
张三是一个独立开发者，有一个开源项目想法，他通过平台发布项目，邀请社区成员参与。

### 流程

```
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 1：发布项目                                                      │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 项目表单：                                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 项目名称：AI代码审查工具                                              │   │
│ │ 项目描述：                                                           │   │
│ │ 一个开源的AI代码审查工具，自动审查GitHub PR                            │   │
│ │                                                                    │   │
│ │ 可见性：[●公开 ○私有]                                              │   │
│ │ 模式：[●社区模式 ○企业模式]                                        │   │
│ │                                                                    │   │
│ │ 总预算：¥5,000                                                     │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 2：拆解环节                                                      │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 环节拆解：                                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 环节1：后端API开发                                                  │   │
│ │ ├─ 描述：开发审查API，支持多语言                                    │   │
│ │ ├─ 预算：¥2,000                                                  │   │
│ │ ├─ 需要专长：[Python, FastAPI, AI/ML]                           │   │
│ │ └─ 需要成果：API文档 + 单元测试                                     │   │
│ │                                                                    │   │
│ │ 环节2：前端界面开发                                                 │   │
│ │ ├─ 描述：React开发用户界面                                         │   │
│ │ ├─ 预算：¥1,500                                                  │   │
│ │ ├─ 需要专长：[React, TypeScript]                                  │   │
│ │ └─ 需要成果：可运行的前端应用                                       │   │
│ │                                                                    │   │
│ │ 环节3：GitHub集成                                                  │   │
│ │ ├─ 描述：集成GitHub Webhook                                       │   │
│ │ ├─ 预算：¥1,000                                                  │   │
│ │ ├─ 需要专长：[Node.js, GitHub API]                               │   │
│ │ └─ 需要成果：可用的GitHub App                                      │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 3：发布成功                                                      │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 项目状态：                                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ ✅ 项目已发布                                                        │   │
│ │ 项目：AI代码审查工具                                                 │   │
│ │ 状态：待参与                                                        │   │
│ │                                                                    │   │
│ │ 分享链接：https://ai-pm.io/project/abc123                       │   │
│ │                                                                    │   │
│ │ 环节状态：                                                           │   │
│ │ ├─ 环节1：后端API开发 - 待认领                                    │   │
│ │ ├─ 环节2：前端界面开发 - 待认领                                   │   │
│ │ └─ 环节3：GitHub集成 - 待认领                                     │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 场景二：参与者认领环节

### 场景描述
李四是一个后端开发者，擅长Python和FastAPI，他看到张三发布的项目，申请认领环节1。

### 流程

```
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 1：浏览环节市场                                                  │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 环节市场：                                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ [后端] AI代码审查工具 - 环节1：后端API开发                         │   │
│ │ 预算：¥2,000 | 发起人：张三 | 评分：4.8/5.0                      │   │
│ │ 需要专长：Python, FastAPI, AI/ML                                   │   │
│ │                                                                    │   │
│ │ [前端] AI代码审查工具 - 环节2：前端界面开发                         │   │
│ │ 预算：¥1,500 | 发起人：张三 | 评分：4.8/5.0                      │   │
│ │ 需要专长：React, TypeScript                                          │   │
│ │                                                                    │   │
│ │ [后端] 数据分析平台 - 环节3：API开发                               │   │
│ │ 预算：¥3,000 | 发起人：王五 | 评分：4.5/5.0                      │   │
│ │ 需要专长：Python, PostgreSQL                                         │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 2：查看环节详情                                                    │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 环节详情：                                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 环节1：后端API开发                                                  │   │
│ │ 项目：AI代码审查工具 | 发起人：张三                               │   │
│ │                                                                    │   │
│ │ 描述：开发审查API，支持多语言                                       │   │
│ │ 预算：¥2,000 | 已有 1 人申请                                      │   │
│ │                                                                    │   │
│ │ 需要专长：Python, FastAPI, AI/ML                                   │   │
│ │                                                                    │   │
│ │ 需要成果：                                                           │   │
│ │ - API文档                                                          │   │
│ │ - 单元测试覆盖率>80%                                               │   │
│ │ - 可运行的API服务                                                  │   │
│ │                                                                    │   │
│ │ [申请认领]                                                          │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 3：申请认领                                                      │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 李四的个人档案：                                                        │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 专长标签：[Python, FastAPI, Node.js, AI/ML]                     │   │
│ │ 系统评分：                                                          │   │
│ │ ├─ 完成率：92% (23/25)                                          │   │
│ │ ├─ 质量分：4.7/5.0                                               │   │
│ │ ├─ 响应分：4.8/5.0                                               │   │
│ │ └─ 综合：4.7/5.0                                                  │   │
│ │                                                                    │   │
│ │ 历史项目：                                                          │   │
│ │ ├─ 参与项目：12个                                                  │   │
│ │ ├─ 最高贡献：35%                                                   │   │
│ │ └─ 获得分成：¥8,500                                               │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
│ 申请信息：                                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 备注：                                                              │   │
│ │ 有3年Python开发经验，熟悉FastAPI                                    │   │
│ │ 之前做过类似AI API项目                                            │   │
│ │                                                                    │   │
│ │ [提交申请]                                                          │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 4：发起人确认                                                     │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 发起人确认：                                                            │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 申请者：李四                                                         │   │
│ │ 专长：Python, FastAPI, AI/ML                                     │   │
│ │ 评分：4.7/5.0                                                      │   │
│ │ 历史：参与12个项目，获得¥8,500                                    │   │
│ │ 备注：有3年Python经验，熟悉FastAPI                                  │   │
│ │                                                                    │   │
│ │ [确认认领]  [拒绝]  [再看看]                                       │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
│ 确认后：                                                                │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ ✅ 李四已认领环节1                                                  │   │
│ │ 状态：进行中                                                        │   │
│ │ 开始时间：2026-02-17 10:00                                        │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 场景三：参与者贡献代码

### 场景描述
李四认领环节后，开始用Claude API开发后端API，通过GitHub提交代码。

### 流程

```
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 1：开始贡献                                                      │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 李四的工作：                                                            │
│ - 克隆代码仓库                                                         │
│ - 使用Claude API编写代码                                                │
│ - 提交到GitHub                                                         │
│                                                                            │
│ Git提交记录：                                                           │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ [feat] 实现审查API框架 - 李四 - 2小时前                          │   │
│ │ [feat] 添加Python语法检查 - 李四 - 1小时前                        │   │
│ │ [fix] 修复类型错误 - 李四 - 30分钟前                               │   │
│ │ [test] 添加单元测试 - 李四 - 刚刚                                  │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 2：贡献追踪                                                      │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 项目贡献看板：                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 环节1：后端API开发 - 负责人：李四                                  │   │
│ │ 进度：60%                                                          │   │
│ │                                                                    │   │
│ │ 贡献记录：                                                          │   │
│ │ ├─ 代码提交：8次                                                   │   │
│ │ ├─ 代码行数：+1200 / -80                                         │   │
│ │ ├─ 测试用例：15个                                                 │   │
│ │ └─ 文档更新：1篇                                                  │   │
│ │                                                                    │   │
│ │ 贡献度计算：                                                        │   │
│ │ 贡献度 = (提交数×权重 + 代码行数×权重 + 测试×权重) / 总贡献     │   │
│ │ 当前贡献度：35%                                                    │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 3：其他环节状态                                                   │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 项目整体进度：                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 环节1：后端API开发 - 李四 - 60% ⏳                               │   │
│ │ 环节2：前端界面开发 - 王五 - 0% ⏳ (待认领)                       │   │
│ │ 环节3：GitHub集成 - 赵六 - 0% ⏳ (待认领)                        │   │
│ │                                                                    │   │
│ │ 项目整体进度：20%                                                  │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 场景四：企业用户发布项目

### 场景描述
某公司CTO使用企业模式发布内部项目，使用积分结算。

### 流程

```
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 1：发布企业内部项目                                                │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 项目表单：                                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 项目名称：内部报表系统v2.0                                           │   │
│ │ 项目描述：升级内部报表系统，增加数据分析功能                         │   │
│ │                                                                    │   │
│ │ 可见性：[○公开 ●私有]                                              │   │
│ │ 模式：[○社区模式 ●企业模式]                                        │   │
│ │ 企业：TechCorp Inc.                                                 │   │
│ │                                                                    │   │
│ │ 总积分：5000积分                                                    │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
│ 环节拆解：                                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 环节1：数据库设计 - 500积分 - 需要：MySQL, 数据建模               │   │
│ │ 环节2：后端API开发 - 1500积分 - 需要：Python, FastAPI            │   │
│ │ 环节3：前端界面开发 - 1500积分 - 需要：React                      │   │
│ │ 环节4：测试用例编写 - 500积分 - 需要：pytest, 测试设计           │   │
│ │ 环节5：部署上线 - 1000积分 - 需要：Docker, K8s                   │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 2：企业员工认领                                                   │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 企业内部员工（可见本企业项目）：                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ Alice（前端工程师）                                                 │   │
│ │ ├─ 专长：React, TypeScript, Ant Design                          │   │
│ │ ├─ 系统评分：4.8/5.0                                              │   │
│ │ └─ 认领环节3：前端界面开发                                         │   │
│ │                                                                    │   │
│ │ Bob（后端工程师）                                                   │   │
│ │ ├─ 专长：Python, FastAPI, PostgreSQL                            │   │
│ │ ├─ 系统评分：4.6/5.0                                              │   │
│ │ └─ 认领环节2：后端API开发                                          │   │
│ │                                                                    │   │
│ │ Carol（测试工程师）                                                 │   │
│ │ ├─ 专长：pytest, Selenium, 测试设计                             │   │
│ │ ├─ 系统评分：4.5/5.0                                              │   │
│ │ └─ 认领环节4：测试用例编写                                        │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 场景五：贡献度计算与分成

### 场景描述
项目完成后，系统根据实际贡献计算分成。

### 流程

```
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 1：项目完成                                                        │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 项目状态：                                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ AI代码审查工具 - 已完成                                              │   │
│ │ 完成时间：2026-02-17                                                │   │
│ │ 总预算：¥5,000                                                      │   │
│ │                                                                    │   │
│ │ 环节状态：                                                           │   │
│ │ ├─ 环节1：100% - 李四 - 贡献度35%                                │   │
│ │ ├─ 环节2：100% - 王五 - 贡献度30%                                │   │
│ │ └─ 环节3：100% - 赵六 - 贡献度25%                                │   │
│ │ └─ 发起人预留：10%                                                 │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 2：计算贡献度                                                      │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 贡献度明细：                                                            │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 参与者   │ 贡献类型           │ 贡献权重 │ 贡献数 │ 贡献度         │   │
│ ├─────────┼───────────────────┼──────────┼────────┼────────────────┤   │
│ │ 李四     │ 代码提交          │ 1.0      │ 25次   │                │   │
│ │         │ 代码行数          │ 0.01     │ 3500行 │                │   │
│ │         │ 测试用例          │ 0.5      │ 30个   │ 35%           │   │
│ ├─────────┼───────────────────┼──────────┼────────┼────────────────┤   │
│ │ 王五     │ 代码提交          │ 1.0      │ 20次   │                │   │
│ │         │ 代码行数          │ 0.01     │ 2800行 │ 30%           │   │
│ │         │ 文档编写          │ 0.3      │ 5篇    │                │   │
│ ├─────────┼───────────────────┼──────────┼────────┼────────────────┤   │
│ │ 赵六     │ 代码提交          │ 1.0      │ 15次   │                │   │
│ │         │ 代码行数          │ 0.01     │ 2000行 │ 25%           │   │
│ │         │ Bug修复          │ 0.8      │ 8个    │                │   │
│ └─────────┴───────────────────┴──────────┴────────┴────────────────┘   │
│                                                                            │
│ 总贡献度：35% + 30% + 25% = 90%                                         │
│ 发起人预留：10%                                                         │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 3：分成结算                                                        │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 分成明细（社区模式）：                                                   │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 总预算：¥5,000 | 平台抽佣：¥600 (12%)                             │   │
│ │ 可分配：¥4,400                                                      │   │
│ │                                                                    │   │
│ │ ├─ 李四：35% → ¥1,540                                           │   │
│ │ ├─ 王五：30% → ¥1,320                                           │   │
│ │ ├─ 赵六：25% → ¥1,100                                           │   │
│ │ └─ 发起人：10% → ¥440 (预留)                                     │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
│ 分成明细（企业模式）：                                                   │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 总积分：5000积分                                                     │   │
│ │                                                                    │   │
│ │ ├─ 李四：35% → 1750积分                                           │   │
│ │ ├─ 王五：30% → 1500积分                                           │   │
│ │ ├─ 赵六：25% → 1250积分                                           │   │
│ │ └─ 发起人：10% → 500积分 (预留)                                   │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 4：结算完成                                                        │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 社区模式（现金）：                                                       │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ ✅ 结算完成                                                          │   │
│ │                                                                    │   │
│ │ 李四收入：¥1,540                                                   │   │
│ │ 提现到：支付宝 (lisi***@gmail.com)                               │   │
│ │ 预计到账：T+1工作日                                                │   │
│ │                                                                    │   │
│ │ 王五收入：¥1,320                                                   │   │
│ │ 赵六收入：¥1,100                                                   │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
│ 企业模式（积分）：                                                       │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ ✅ 积分已发放                                                        │   │
│ │                                                                    │   │
│ │ 李四：+1750积分 → 余额：8500积分                                   │   │
│ │ 王五：+1500积分 → 余额：6200积分                                   │   │
│ │ 赵六：+1250积分 → 余额：4800积分                                   │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 场景六：专长标签管理

### 场景描述
用户设置和更新自己的专长标签，系统根据历史表现打分。

### 流程

```
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 1：设置专长标签                                                    │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 标签设置：                                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 技术栈：                                                             │   │
│ │ ├─ [Python ✓] [+ 添加]                                            │   │
│ │ ├─ [FastAPI ✓] [+ 添加]                                          │   │
│ │ ├─ [React -] [+ 添加]                                            │   │
│ │ └─ [+ 添加其他]                                                   │   │
│ │                                                                    │   │
│ │ 专业领域：                                                           │   │
│ │ ├─ [后端开发 ✓] [+ 添加]                                          │   │
│ │ ├─ [API设计 ✓] [+ 添加]                                          │   │
│ │ └─ [+ 添加其他]                                                   │   │
│ │                                                                    │   │
│ │ 工具/平台：                                                         │   │
│ │ ├─ [Claude ✓] [+ 添加]                                           │   │
│ │ ├─ [GPT-4 -] [+ 添加]                                             │   │
│ │ └─ [+ 添加其他]                                                   │   │
│ │                                                                    │   │
│ │ [保存设置]                                                          │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 2：系统评分                                                        │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 系统评分明细：                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 李四的个人档案                                                        │   │
│ │                                                                    │   │
│ │ 专长标签：                                                          │   │
│ │ 技术栈：Python, FastAPI, Node.js                                 │   │
│ │ 专业领域：后端开发, API设计                                         │   │
│ │ 工具/平台：Claude, GitHub                                         │   │
│ │                                                                    │   │
│ │ 系统评分：4.7/5.0                                                  │   │
│ │ ├─ 完成率：92% (23/25) - 权重40% → 36.8分                     │   │
│ │ ├─ 质量分：4.7/5.0 - 权重35% → 16.5分                         │   │
│ │ ├─ 响应分：4.8/5.0 - 权重15% → 7.2分                          │   │
│ │ └─ 协作分：4.6/5.0 - 权重10% → 4.6分                          │   │
│ │                                                                    │   │
│ │ 历史数据：                                                          │   │
│ │ ├─ 参与项目：12个                                                  │   │
│ │ ├─ 平均贡献度：28%                                                 │   │
│ │ └─ 获得分成：¥8,500                                               │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

**文档版本**: v0.4
**更新日期**: 2026-02-17
**设计原则**：项目协作平台场景，区分社区/企业双模式，按实际贡献分成
