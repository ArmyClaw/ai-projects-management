# AI Project Management Platform - 场景设计文档 v0.7

> **版本说明**：精简为6个核心场景，增加反面案例，强化质量控制流程

---

## 场景一：参与者配置Skill

### 场景描述
李四配置OpenClaw Skill，选择性价比方案。

### 流程

```
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 1：配置Skill                                                      │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ Skill配置页面：                                                         │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ OpenClaw Skill - AI Project Worker                                   │   │
│ │                                                                    │   │
│ │ 模型策略：[●自动选择 (推荐) ○成本优先 ○质量优先 ○平衡]            │   │
│ │                                                                    │   │
│ │ 模型配置：                                                           │   │
│ │ [x] Anthropic (Claude) ¥0.003/1K                                   │   │
│ │ [x] DeepSeek (DeepSeek) ¥0.001/1K                                 │   │
│ │ [x] 阿里云 (通义千问) ¥0.001/1K                                    │   │
│ │                                                                    │   │
│ │ [保存配置]                                                           │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 场景二：使用Skill完成任务

### 场景描述
李四认领环节后，使用Skill完成任务，包含质量控制流程。

### 流程

```
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 1：任务分析                                                        │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 任务信息：                                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 任务：环节1 - 后端API开发                                           │   │
│ │ 复杂度：中等 ★★★☆☆                                              │   │
│ │ 建议模型：Claude Sonnet 4 (平衡方案)                               │   │
│ │ 预估成本：¥0.09                                                   │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 2：执行AI                                                          │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ AI执行：                                                               │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ Prompt模板：代码生成                                                │   │
│ │ "你是一位专业的Python开发者，擅长编写高质量代码..."                 │   │
│ │                                                                    │   │
│ │ 执行结果：                                                         │   │
│ │ ├─ Tokens：25,000                                                 │   │
│ │ ├─ 成本：¥0.075                                                  │   │
│ │ └─ 状态：待审核                                                   │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 3：人工审核 ⭐ 关键步骤                                             │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 审核检查单：                                                           │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 代码审核：                                                          │   │
│ │ □ 功能完整性：✅ 需求功能全部实现                                   │   │
│ │ □ 代码规范性：✅ 符合PEP8规范                                      │   │
│ │ □ 错误处理：⚠️ 部分异常未处理                                      │   │
│ │ □ 安全性：✅ 无明显漏洞                                            │   │
│ │ □ 可测试性：✅ 容易编写单元测试                                     │   │
│ │                                                                    │   │
│ │ 发现问题：                                                         │   │
│ │ [1] models.py:45 - 缺少数据库连接池配置                           │   │
│ │ [2] auth.py:78 - 错误信息过于详细（安全风险）                      │   │
│ │                                                                    │   │
│ │ 审核结果：问题2个 → 反馈AI重做                                    │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 4：迭代优化                                                        │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 反馈AI：                                                               │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ "请修复以下问题：                                                   │   │
│ │  1. 添加数据库连接池配置                                           │   │
│ │  2. 错误信息脱敏处理，返回通用错误码"                               │   │
│ │                                                                    │   │
│ │ 重新执行：                                                         │   │
│ │ ├─ Tokens：8,000                                                  │   │
│ │ ├─ 成本：¥0.024                                                  │   │
│ │ └─ 状态：复审通过                                                 │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 5：提交成果                                                        │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 提交：                                                                 │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 交付件：                                                           │   │
│ │ ├─ app.py (3.2KB) - FastAPI主应用                             │   │
│ │ ├─ models.py (1.8KB) - SQLAlchemy模型                        │   │
│ │ ├─ test_auth.py (2.1KB) - 单元测试 (覆盖率85%)               │   │
│ │ └─ requirements.txt (0.2KB)                                    │   │
│ │                                                                    │   │
│ │ 成本统计：¥0.099 (预算¥0.10的99%) ✅                           │   │
│ │ 质量评分：4.6/5.0 ✅                                            │   │
│ │                                                                    │   │
│ │ [确认提交]                                                         │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 场景三：发起人查看与验收

### 场景描述
发起人张三查看李四的Skill使用情况，并进行验收。

### 流程

```
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 1：执行中查看                                                      │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 发起人看板：                                                           │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 👤 发起人看板 - AI代码审查工具                                     │   │
│ │                                                                    │   │
│ │ 环节1：李四 - 进行中 (80%)                                        │   │
│ │                                                                    │   │
│ │ 李四的Skill详情：                                                  │   │
│ │ ├─ 模型：Claude Sonnet 4 (平衡方案)                              │   │
│ │ ├─ Prompt：代码生成模板                                           │   │
│ │ ├─ 成本：¥0.099 / 预算¥0.10                                      │   │
│ │ └─ AI调用：3次                                                   │   │
│ │                                                                    │   │
│ │ [查看详情]                                                         │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 2：发起人验收                                                      │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 验收界面：                                                             │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ ✅ 验收 - 环节1：后端API开发                                      │   │
│ │                                                                    │   │
│ │ 交付件预览：                                                       │   │
│ │ ├─ API接口：注册、登录、密码重置、Token刷新                      │   │
│ │ ├─ 测试覆盖：85%                                                  │   │
│ │ └─ 文档：README + API文档                                         │   │
│ │                                                                    │   │
│ │ 质量检查：                                                         │   │
│ │ ┌─────────────────────────────────────────────────────────────┐  │   │
│ │ │ 功能完整性  5/5  ✅                                           │  │   │
│ │ │ 代码质量    4.5/5 ✅                                           │  │   │
│ │ │ 测试覆盖    5/5  ✅                                           │  │   │
│ │ │ 文档完整性  4/5  ✅                                           │  │   │
│ │ │ 成本控制    5/5  ✅                                           │  │   │
│ │ │ 综合评分    4.6/5                                             │  │   │
│ │ └─────────────────────────────────────────────────────────────┘  │   │
│ │                                                                    │   │
│ │ [通过验收]  [拒绝验收]  [要求修改]                               │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 步骤 3：验收完成                                                        │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 结算：                                                                 │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ ✅ 验收通过                                                        │   │
│ │                                                                    │   │
│ │ 李四获得分成：¥3,000 × 35% = ¥1,050                            │   │
│ │ 李四API成本：¥0.099 (自付)                                        │   │
│ │                                                                    │   │
│ │ 💰 支付成功 - ¥1,050 已转入李四账户                            │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 场景四：成本管理与优化

### 场景描述
参与者查看和控制API成本，系统提供优化建议。

### 流程

```
┌────────────────────────────────────────────────────────────────────────────┐
│ 成本看板                                                                 │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 💰 成本统计                                                        │   │
│ │                                                                    │   │
│ │ 本月：¥12.50 / ¥500 限制 (2.5%)                                │   │
│ │                                                                    │   │
│ │ 成本效益：                                                         │   │
│ │ ├─ 质量评分：4.6/5.0                                            │   │
│ │ ├─ 成本控制：良好 (节省15%)                                      │   │
│ │ └─ 性价比：优秀                                                  │   │
│ │                                                                    │   │
│ │ 模型使用：                                                         │   │
│ │ ├─ Claude: ¥10.00 (80%) - 常规任务                             │   │
│ │ └─ DeepSeek: ¥2.50 (20%) - 简单任务                            │   │
│ │                                                                    │   │
│ │ 💡 优化建议：                                                      │   │
│ │ ├─ 简单任务用DeepSeek比例可提升10%                              │   │
│ │ └─ 预计可额外节省¥2.00/月                                        │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 场景五：备份与结算

### 场景描述
参与者放弃任务时，备用参与者接管或重新开放认领。

### 流程

```
┌────────────────────────────────────────────────────────────────────────────┐
│ 场景 A：放弃任务 → 重新认领                                              │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 李四放弃环节1（个人原因）：                                              │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 放弃确认：                                                          │   │
│ │ 原因：个人原因无法继续                                             │   │
│ │ 影响：无惩罚（信誉分不变）                                          │   │
│ │                                                                    │   │
│ │ [确认放弃] → 环节重新开放认领                                    │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌────────────────────────────────────────────────────────────────────────────┐
│ 场景 B：指定备用接管                                                    │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│ 王五接管任务：                                                          │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 🔔 接管邀请                                                        │   │
│ │                                                                    │   │
│ │ 发起人张三邀请你接管：                                             │   │
│ │ 环节：后端API开发 (进度60%)                                        │   │
│ │ 剩余预算：¥0.04                                                   │   │
│ │                                                                    │   │
│ │ [确认接管]  [拒绝]                                                │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 场景六：反面教材

### 场景描述
展示Skill使用不当的案例，对比好与坏的差异。

### ❌ 坏案例：李四的糟糕实践

```
问题1：不做人工审核
┌─────────────────────────────────────────────────────────────────────┐
│ 李四直接提交AI生成的代码，不做检查                                     │
│ 结果：代码有严重安全漏洞，被发起人拒绝                                  │
│ 惩罚：信誉分-1，重新做                                                │
└─────────────────────────────────────────────────────────────────────┘

问题2：Prompt太简单
┌─────────────────────────────────────────────────────────────────────┐
│ Prompt: "写一个用户登录API"                                            │
│ 结果：代码质量差，缺乏错误处理                                        │
│ 消耗：¥0.05，但需重做                                                 │
└─────────────────────────────────────────────────────────────────────┘

问题3：模型选择错误
┌─────────────────────────────────────────────────────────────────────┐
│ 复杂架构设计用DeepSeek (成本优先)                                      │
│ 结果：输出质量差，需用Claude重做                                       │
│ 浪费：¥0.02 + ¥0.08 = ¥0.10                                          │
└─────────────────────────────────────────────────────────────────────┘

问题4：不做迭代优化
┌─────────────────────────────────────────────────────────────────────┐
│ AI输出有问题，直接提交                                                │
│ 结果：发起人验收不通过，被拒绝                                        │
│ 影响：信誉分-1，需修改后重交                                          │
└─────────────────────────────────────────────────────────────────────┘
```

### ✅ 好案例：王五的正确实践

```
好实践1：严格人工审核
┌─────────────────────────────────────────────────────────────────────┐
│ 王五每轮AI输出都做人工检查，发现3个问题                                │
│ 反馈AI重做2次，最终代码质量高                                         │
│ 结果：验收通过4.8/5.0，获得额外积分奖励                                │
└─────────────────────────────────────────────────────────────────────┘

好实践2：Prompt精心设计
┌─────────────────────────────────────────────────────────────────────┐
│ Prompt包含：语言规范、错误处理、性能要求、测试要求                     │
│ 结果：一次输出质量达标，减少迭代                                      │
└─────────────────────────────────────────────────────────────────────┘

好实践3：模型选择合理
┌─────────────────────────────────────────────────────────────────────┐
│ 简单文档任务用DeepSeek (¥0.003)                                      │
│ 复杂逻辑任务用Claude (¥0.075)                                        │
│ 结果：成本节省40%，质量不打折                                         │
└─────────────────────────────────────────────────────────────────────┘

好实践4：持续迭代优化
┌─────────────────────────────────────────────────────────────────────┐
│ AI输出有问题 → 标记具体问题 → 反馈AI → 重新生成                       │
│ 迭代2次后达标                                                        │
│ 结果：验收通过4.7/5.0                                                │
└─────────────────────────────────────────────────────────────────────┘
```

### 对比总结

```
┌────────────────────────────────────────────────────────────────────────────┐
│                          好 vs 坏 实践对比                               │
│                                                                             │
│  维度          │  好实践              │  坏实践                          │
│  ──────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  人工审核      │  每轮都检查          │  不检查直接提交                   │
│  Prompt设计    │  详细、包含要求      │  简单一句话                      │
│  模型选择      │  按任务复杂度选       │  只看价格                        │
│  迭代优化      │  有问题就反馈重做    │  随便提交                        │
│  结果          │  验收通过率高        │  经常被拒绝                      │
│  收益          │  额外奖励            │  信誉分扣减                      │
│                                                                             │
└────────────────────────────────────────────────────────────────────────────┘
```

---

**文档版本**: v0.7
**更新日期**: 2026-02-18
**核心变更**：精简为6个核心场景，增加反面教材，强化质量控制流程
