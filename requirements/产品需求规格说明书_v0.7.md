# AI Project Management Platform - 需求规格说明书 v0.7

> **版本说明**：基于v0.6，细化执行流程，精简场景，增加反面案例

---

## 一、核心定位

### 1.1 产品愿景

> "用更有性价比的模型，更优秀的Skill，达成项目要求——这是未来人机协作完成项目的方式"

### 1.2 核心理念

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                     人机协作完成项目的核心逻辑                              │
│                                                                             │
│     项目要求                                                                  │
│         │                                                                     │
│         ▼                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  步骤1：分析任务复杂度                                               │   │
│  │       - 代码量多少？                                                │   │
│  │       - 技术难度？                                                  │   │
│  │       - 质量要求？                                                  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│         │                                                                     │
│         ▼                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  步骤2：选择性价比方案                                               │   │
│  │       - 简单任务 → 低价模型 (DeepSeek/Qwen)                        │   │
│  │       - 复杂任务 → 高端模型 (Claude/GPT-4)                         │   │
│  │       - 关键是：达成要求，不浪费成本                                  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│         │                                                                     │
│         ▼                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  步骤3：用优秀Skill执行                                             │   │
│  │       - 优秀Skill让普通模型也能产出高质量成果                         │   │
│  │       - Prompt优化、Workflow设计、领域知识注入                        │   │
│  │       - 人来审核/优化，AI来执行/迭代                                  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│         │                                                                     │
│         ▼                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  步骤4：质量控制与验收                                               │   │
│  │       - 人工审核AI输出                                               │   │
│  │       - 发现问题→迭代优化                                           │   │
│  │       - 发起人验收通过 → 结算                                      │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 1.3 两种使用方式

| 维度 | 社区模式 | 企业模式 |
|------|---------|---------|
| **发起** | 任何人可发起 | 内部成员可发起 |
| **参与** | 开放参与 | 内部成员参与 |
| **可见性** | 公开项目 | 私有项目 |
| **AI使用** | Skill调用云端API | Skill调用云端API |
| **收益** | 现金分成 | 积分统计 |
| **核心优势** | 性价比优先 | 成本可控 |

---

## 二、OpenClaw Skill 设计

### 2.1 Skill 定位

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          Skill 在系统中的位置                              │
│                                                                             │
│  参与者                                                                  │
│     │                                                                     │
│     ▼                                                                     │
│  OpenClaw Skill ── 选对模型 + 用好Prompt ── 调用云端AI                 │
│     │                        │                                            │
│     │                        ▼                                            │
│     │               Claude / GPT-4 / DeepSeek / Qwen                     │
│     │                        │                                            │
│     │                        ▼                                            │
│     │              优秀Skill让普通模型产出高质量成果                       │
│     │                                                                     │
│     ▼                                                                     │
│  完成任务 ── 人工审核 ── 提交贡献 ── 获得分成                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 Skill 核心价值

**Skill的本质**：不是调用API，而是把经验/方法论固化

| Skill价值 | 说明 |
|----------|------|
| **Prompt优化** | 好的Prompt让模型输出质量翻倍 |
| **任务拆解** | 把复杂任务拆解成AI能handle的子任务 |
| **领域注入** | 把业务逻辑/行业知识融入上下文 |
| **质量控制** | 验证、迭代、纠错机制 |
| **模板沉淀** | 可复用、可迭代、有累积价值 |

### 2.3 Skill 功能

**Skill名称**：AI Project Worker

**核心功能**：
| 功能 | 说明 | 价值 |
|------|------|------|
| **模型选择** | 根据任务复杂度选择性价比模型 | 不花冤枉钱 |
| **Prompt模板** | 内置优化后的Prompt模板 | 提升输出质量 |
| **任务拆解** | 自动拆解复杂任务 | 降低执行难度 |
| **执行引擎** | 调用AI并返回结果 | 自动化执行 |
| **质量审核** | 辅助检查输出质量 | 保障成果 |
| **成本追踪** | 实时记录成本消耗 | 成本可控 |

### 2.4 模型性价比矩阵

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          模型选择决策矩阵                                  │
│                                                                             │
│  任务类型                    推荐模型                    成本区间          │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  简单任务                    DeepSeek Chat              ¥0.001/1K tokens    │
│  (代码补全、简单文档)         Qwen Turbo                ¥0.001/1K tokens    │
│                                                                             │
│  中等任务                    Claude Sonnet 4            ¥0.003/1K tokens    │
│  (常规开发、代码审查)         GPT-4o-mini               ¥0.0015/1K tokens  │
│                                                                             │
│  复杂任务                    Claude Sonnet 4            ¥0.003/1K tokens    │
│  (架构设计、复杂逻辑)         GPT-4o                    ¥0.005/1K tokens    │
│                                                                             │
│  高要求任务                  Claude Sonnet 4            ¥0.003/1K tokens    │
│  (代码质量、安全审查)         (优化后的Prompt效果更好)                       │
│                                                                             │
│  关键原则：                                                                  │
│  ├─ 不是越贵越好，是最适合最好                                             │
│  ├─ 优秀Skill可以让普通模型达到高端模型80%的效果                           │
│  └─ 成本节约50-80%，质量损失<10%                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.5 Prompt模板示例

**代码生成Prompt**：
```yaml
# 代码生成Prompt模板
prompt_template: |
  你是一位专业的{{language}}开发者，擅长编写高质量、可维护的代码。

  # 任务信息
  任务描述：{{task_description}}
  技术栈：{{tech_stack}}
  代码规范：{{coding_standards}}

  # 质量要求
  要求：
  1. 代码必须符合{{coding_standards}}规范
  2. 包含完整的错误处理和异常捕获
  3. 编写单元测试，覆盖核心逻辑
  4. 添加必要的注释说明
  5. 考虑性能优化

  # 输出格式
  请按以下格式输出：
  ## 代码
  [完整的代码实现]
  
  ## 说明
  [代码设计思路和关键点]
  
  ## 测试
  [单元测试代码]

  开始执行任务：
  {{task_details}}
```

**代码审查Prompt**：
```yaml
# 代码审查Prompt模板
review_template: |
  你是一位资深代码审查专家，请对以下代码进行严格审查。

  # 审查目标
  代码内容：
  {{code_content}}
  语言：{{language}}
  规范：{{coding_standards}}

  # 审查维度
  请从以下维度评分（1-5分）：
  1. 安全性（SQL注入、XSS、密码处理等）
  2. 性能优化
  3. 代码规范
  4. 逻辑正确性
  5. 可读性

  # 输出格式
  ## 评分
  安全性：X/5
  性能：X/5
  规范：X/5
  逻辑：X/5
  可读性：X/5
  综合：X/5

  ## 问题清单
  - [严重] 问题描述...
  - [警告] 问题描述...
  - [建议] 问题描述...

  ## 修改建议
  针对每个问题，给出具体修改建议。
```

### 2.6 Skill使用流程

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          Skill执行流程                                      │
│                                                                             │
│  参与者使用Skill执行任务                                                   │
│      │                                                                     │
│      ▼                                                                     │
│  ┌─────────────────────────────────────────────────────────────────┐      │
│  │  步骤1：任务分析                                                │      │
│  │       - 输入任务描述                                            │      │
│  │       - 系统分析任务复杂度                                      │      │
│  │       - 推荐性价比模型                                          │      │
│  └─────────────────────────────────────────────────────────────────┘      │
│      │                                                                     │
│      ▼                                                                     │
│  ┌─────────────────────────────────────────────────────────────────┐      │
│  │  步骤2：选择模型                                                │      │
│  │       - 确认使用模型                                            │      │
│  │       - 确认Prompt模板                                          │      │
│  │       - 预估成本                                                │      │
│  └─────────────────────────────────────────────────────────────────┘      │
│      │                                                                     │
│      ▼                                                                     │
│  ┌─────────────────────────────────────────────────────────────────┐      │
│  │  步骤3：执行AI                                                  │      │
│  │       - 注入领域知识                                            │      │
│  │       - 执行Prompt                                             │      │
│  │       - 返回结果                                                │      │
│  └─────────────────────────────────────────────────────────────────┘      │
│      │                                                                     │
│      ▼                                                                     │
│  ┌─────────────────────────────────────────────────────────────────┐      │
│  │  步骤4：人工审核 ⭐ (关键步骤)                                  │      │
│  │       - 参与者检查AI输出                                        │      │
│  │       - 发现问题→标记并反馈                                    │      │
│  │       - 迭代优化直到达标                                        │      │
│  └─────────────────────────────────────────────────────────────────┘      │
│      │                                                                     │
│      ▼                                                                     │
│  ┌─────────────────────────────────────────────────────────────────┐      │
│  │  步骤5：提交成果                                                │      │
│  │       - 整理交付件                                              │      │
│  │       - 提交到Git                                               │      │
│  │       - 等待发起人验收                                          │      │
│  └─────────────────────────────────────────────────────────────────┘      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.7 质量控制流程

**质量控制是Skill的核心组成部分**：

```
人工审核检查清单：
┌─────────────────────────────────────────────────────────────────────────────┐
│                          人工审核要点                                      │
│                                                                             │
│  代码审核：                                                               │
│  ├─ 功能完整性        □ 需求功能是否全部实现？                            │
│  ├─ 代码规范性        □ 符合语言规范吗？(PEP8等)                         │
│  ├─ 错误处理          □ 异常情况处理了吗？                               │
│  ├─ 安全性            □ 有SQL注入/XSS等漏洞吗？                          │
│  ├─ 性能              □ 有明显性能问题吗？                               │
│  └─ 可测试性          □ 容易写单元测试吗？                               │
│                                                                             │
│  文档审核：                                                               │
│  ├─ 完整性            □ 功能说明完整吗？                                 │
│  ├─ 准确性            □ 描述正确吗？                                     │
│  ├─ 可读性            □ 容易理解吗？                                     │
│  └─ 格式规范          □ 格式统一吗？                                     │
│                                                                             │
│  迭代规则：                                                               │
│  ├─ 问题<3个         → 直接修改                                         │
│  ├─ 问题3-5个        → 反馈AI重做                                       │
│  └─ 问题>5个         → 重新设计Prompt                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.8 Skill 配置

```yaml
# Skill 配置
config:
  # 模型策略
  model_strategy:
    type: enum
    values: [auto, cost_first, quality_first, balanced]
    default: auto
  
  # 模型配置
  models:
    anthropic:
      enabled: true
      default: claude-sonnet-4
      cost_per_1k: 0.003
    deepseek:
      enabled: true
      default: deepseek-chat
      cost_per_1k: 0.001
    qwen:
      enabled: true
      default: qwen-turbo
      cost_per_1k: 0.001
  
  # API配置
  api_key: 
    type: string
    description: API Key（加密存储）
  
  # Prompt模板（可自定义）
  prompt_templates:
    code_generation: ...
    code_review: ...
  
  # 使用限制
  limits:
    max_cost_per_task: 1.0
    max_cost_per_day: 50
```

---

## 三、参与者管理

### 3.1 参与者角色

**参与者定义**：使用Skill调用AI完成项目任务的协作者

**参与者价值**：
| 价值维度 | 说明 |
|----------|------|
| **技能组合** | 专长标签定义能做什么 |
| **Skill质量** | 用Prompt/Workflow体现 |
| **成本意识** | 会选择性价比方案 |
| **质量把控** | 审核AI输出，确保持续达标 |

### 3.2 专长标签

```yaml
标签类型:
├─ 技术栈:
│  ├─ 前端: React / Vue / Angular
│  ├─ 后端: Python / Go / Node.js
│  ├─ AI/ML: TensorFlow / PyTorch
│  └─ 数据库: MySQL / PostgreSQL / MongoDB
│
├─ 专长领域:
│  ├─ API设计
│  ├─ 性能优化
│  ├─ 安全加固
│  ├─ 代码审查
│  └─ 技术文档
│
├─ Skill等级:
│  ├─ L1: 能用AI (基础Prompt)
│  ├─ L2: 会调优Prompt
│  ├─ L3: 有自定义模板
│  └─ L4: 有完整Workflow
│
└─ 工具/平台:
   ├─ Claude / GPT-4
   ├─ DeepSeek / Qwen
   └─ Docker / K8s
```

### 3.3 Skill等级

```
Skill等级定义：
├─ L1: 能用AI
│     └─ 基础Prompt调用，结果一般
│
├─ L2: 会调优
│     └─ 会调整Prompt参数，结果较好
│
├─ L3: 有模板
│     └─ 有自己的Prompt模板库
│
└─ L4: 有Workflow
    └─ 有完整任务拆解+验证+迭代流程
```

### 3.4 系统评分

```
评分维度:
├─ 完成率 = 完成任务数 / 承接任务数
├─ 质量分 = 平均验收评分 (5分制)
├─ 成本效益 = 预算使用率 / 质量评分
├─ 响应分 = 平均响应时间评分
└─ 协作分 = 同行/发起人评价

系统评分 = 完成率(30%) + 质量分(35%) + 成本效益(15%) + 响应分(10%) + 协作分(10%)
```

### 3.5 个人档案

```
档案展示:
├─ 专长标签
├─ Skill等级 (L1-L4)
├─ 系统评分
├─ 成本控制能力
├─ 历史项目
└─ 代表作品
```

---

## 四、发起人权限设计

### 4.1 权限概述

**核心原则**：付费者拥有知情权和验收权

```
发起人权限：
├─ 执行中可见：
│  ├─ 参与者使用的Skill模板（Prompt）
│  ├─ 模型选择（Claude还是DeepSeek）
│  ├─ AI调用记录（时间、Tokens、输入输出摘要）
│  └─ 成本消耗实时统计
│
├─ 完成后可见：
│  ├─ AI生成的所有内容（代码、文档）
│  ├─ 人工审核记录（修改、优化）
│  ├─ 质量验收评分
│  └─ 成本消耗明细
│
└─ 验收权限：
   ├─ 通过 → 确认付款
   ├─ 拒绝 → 需修改/重新做
   └─ 争议 → 平台仲裁
```

### 4.2 验收权限

**发起人验收标准**：
| 检查项 | 权重 | 说明 |
|--------|------|------|
| 功能完整性 | 30% | 需求功能是否完整实现 |
| 代码质量 | 25% | 可读性、规范性、错误处理 |
| 测试覆盖 | 20% | 单元测试覆盖率 |
| 文档质量 | 15% | 文档完整性 |
| 成本效益 | 10% | 是否在预算内完成 |

**验收操作**：
| 操作 | 条件 | 结果 |
|------|------|------|
| 通过 | 评分≥4.0 | 支付分成 |
| 拒绝 | 评分<4.0 | 需修改后重交 |
| 争议 | 双方分歧 | 平台仲裁 |

---

## 五、项目发布与管理

### 5.1 发布项目

```yaml
项目:
  title: 项目名称
  description: 项目描述
  mode: [社区/企业]
  total_budget: 10000

  # 成本要求
  cost_requirements:
    max_cost_per_task: 0.5
    preferred_models: [claude-sonnet-4, deepseek-chat]

  # 环节拆解
  milestones:
    - name: 环节1名称
      budget: 3000
      skills: [Python, React]
      skill_level: L2
      cost_budget: 50
      quality_requirements:
        min_score: 4.0
        tests_required: true
        review_required: true
```

### 5.2 贡献度跟踪

```
参与者使用Skill执行任务
         │
         ▼
    任务分析 → 选择模型 → 执行AI
         │
         ▼
    人工审核 ⭐ (关键)
         │
         ▼
    提交贡献 → 验收 → 分成
```

---

## 六、成本管理

### 6.1 成本承担

| 角色 | 成本 | 说明 |
|------|------|------|
| **参与者** | API调用费 | 自己承担 |
| **发起人** | 项目预算 | 支付分成 |
| **平台** | 0 | 不抽成 |

### 6.2 成本优化建议

**系统自动建议**：
| 建议类型 | 说明 |
|----------|------|
| **模型切换** | 简单任务建议用DeepSeek |
| **Prompt优化** | 减少Token消耗 |
| **任务拆解** | 大任务拆分成小任务 |

---

## 七、备份机制

### 7.1 备用参与者

**指定备用**：
```yaml
backup_participants:
  - user_id: user_002
    name: 王五
    skills: [React]
    state: online
```

### 7.2 任务放弃流程

| 放弃原因 | 影响 | 处理 |
|----------|------|------|
| 任务超出能力 | 信誉分-1 | 重新开放认领 |
| 个人原因 | 无惩罚 | 重新开放认领 |
| 恶意放弃 | 信誉分-3 | 限制7天 |

---

## 八、场景设计（6个核心场景）

### 场景一：参与者配置Skill
### 场景二：使用Skill完成任务（含质量控制）
### 场景三：发起人查看与验收
### 场景四：成本管理与优化
### 场景五：备份与结算
### 场景六：反面教材（Skill用得烂）

---

## 九、开发计划

### 9.1 开发周期

| 阶段 | 内容 | 时间 |
|------|------|------|
| **MVP** | 核心功能 | 4周 |
| **v0.6** | Skill设计+性价比 | 2周 |
| **v0.7** | 流程细化+反面案例 | 1周 |
| **v1.0** | 完整功能 | 2周 |

### 9.2 MVP核心功能

| 功能 | 状态 | 说明 |
|------|------|------|
| 项目发布 | ✅ | 支持社区/企业模式 |
| Skill调用 | ✅ | 支持多模型 |
| 质量控制 | ✅ | 人工审核流程 |
| 成本监控 | ✅ | Token/成本追踪 |
| 发起人验收 | ✅ | 付费者权限 |
| 备份机制 | ✅ | 放弃/接管 |

---

**文档版本**: v0.7
**更新日期**: 2026-02-18
**核心理念**：用更有性价比的模型，更优秀的Skill，达成项目要求
